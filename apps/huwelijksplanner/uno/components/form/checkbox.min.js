/*!
NL Design System Componenten library 0.1.2, build date 12-05-2021
Copyright 2011-2020 The NL Design System Authors
Copyright 2011-2020 Duo
Author: DUO & The NL Design System Authors
Author URI: https://nl-design-system.gitlab.io/nl-design-system/
License: EUPL v1.2
License URL: https://joinup.ec.europa.eu/software/page/eupl5
Version: 0.1.2
*/
require("../../core/polyfills");var CheckboxGroup=function(){function e(e){var t=this;if(this.container=e,"ul"!==this.container.nodeName.toLowerCase()&&"table"!==this.container.nodeName.toLowerCase())throw new Error("Incompatible element passed, expected <ul> or <table>, got "+this.container.nodeName);this.container.querySelectorAll(".input__control--checkbox").forEach(function(e){e.addEventListener("click",t)})}return e.prototype.destroy=function(){var t=this;this.container.querySelectorAll(".input__control--checkbox").forEach(function(e){e.removeEventListener("click",t)})},e.prototype.handleEvent=function(e){"click"===e.type&&("li"===e.currentTarget.parentElement.nodeName.toLowerCase()?this.onListCheckboxClick(e.currentTarget):this.onTableCheckboxClick(e.currentTarget))},e.prototype.onListCheckboxClick=function(t){var e=t.parentElement;if(e.classList.contains("input__group--checkbox")){if(o=e.querySelector("ul"))o.querySelectorAll(".input__control--checkbox").forEach(function(e){return e.checked=t.checked})}else{for(;e&&!e.classList.contains("input__group");)e=e.parentNode;if(e){var o=e.querySelector("ul"),c=e.querySelector(".input__control--checkbox"),r=o.querySelectorAll(".input__control--checkbox").length,n=o.querySelectorAll(".input__control--checkbox:checked").length;c.checked=0<n,c.indeterminate=0<n&&n<r}}},e.prototype.onTableCheckboxClick=function(o){for(var e=o.parentElement;e&&"table"!==e.nodeName.toLowerCase();)e=e.parentNode;var t=e.querySelectorAll(".input__control--checkbox");if(e.querySelector(".input__control--checkbox")===o)t.forEach(function(e,t){0<t&&(e.checked=o.checked)});else{var c=t.length-1,r=e.querySelectorAll("tbody .input__control--checkbox:checked").length;t.item(0).checked=0<r,t.item(0).indeterminate=0<r&&r<c}},e}();exports.CheckboxGroup=CheckboxGroup;